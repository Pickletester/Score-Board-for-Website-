<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Scoreboard — Court 1</title>

<style>
body{
  margin:0;
  background:black;
  color:white;
  font-family:Arial, Helvetica, sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.container{
  display:flex;
  gap:80px;
  text-align:center;
}

.name{
  font-size:50px;
  margin-bottom:20px;
}

.score{
  font-size:140px;
  font-weight:bold;
}

input{
  background:none;
  border:none;
  color:white;
  text-align:center;
  width:100%;
  outline:none;
}
</style>
</head>

<body>

<div class="container">

  <div>
    <input id="p1" class="name" value="Player 1">
    <input id="s1" class="score" value="0">
  </div>

  <div>
    <input id="p2" class="name" value="Player 2">
    <input id="s2" class="score" value="0">
  </div>

</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyD1_a8hRm4E0JtMMhZPryZRTweXIL7Mm8k",
  authDomain: "live-score-board-f4952.firebaseapp.com",
  databaseURL: "https://live-score-board-f4952-default-rtdb.firebaseio.com",
  projectId: "live-score-board-f4952",
  storageBucket: "live-score-board-f4952.firebasestorage.app",
  messagingSenderId: "996622328680",
  appId: "1:996622328680:web:5472b32f0514680bff2cdd"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// ✅ THIS is your sync path
const dbRef = ref(db, "scoreboard/court1");

// Listen for changes from other browsers
onValue(dbRef, (snap)=>{
  const data = snap.val();
  if(data){
    p1.value = data.p1 ?? "Player 1";
    p2.value = data.p2 ?? "Player 2";
    s1.value = data.s1 ?? 0;
    s2.value = data.s2 ?? 0;
  }
});

// Send updates to Firebase
function sync(){
  set(dbRef,{
    p1:p1.value,
    p2:p2.value,
    s1:s1.value,
    s2:s2.value
  });
}

// Sync on edit
document.querySelectorAll("input").forEach(el=>{
  el.oninput = sync;
});

</script>

</body>
</html>
